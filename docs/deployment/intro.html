<!doctype html>
<html lang="en" dir="ltr"
    class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-deployment/intro"
    data-has-hydrated="false">

<!-- Mirrored from harp-docs.vercel.app/docs/deployment/intro by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 09 Mar 2024 21:35:57 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->

<head>
    <meta charset="UTF-8">
    <meta name="generator" content="Docusaurus v3.1.1">
    <title data-rh="true">Setting up a PiVPN Server on AWS | Harp Documentation</title>
    <meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1">
    <meta data-rh="true" name="twitter:card" content="summary_large_image">
    <meta data-rh="true" property="og:image" content="../../img/login-page-logo.png">
    <meta data-rh="true" name="twitter:image" content="../../img/login-page-logo.png">
    <meta data-rh="true" property="og:url" content="intro">
    <meta data-rh="true" property="og:locale" content="en">
    <meta data-rh="true" name="docusaurus_locale" content="en">
    <meta data-rh="true" name="docsearch:language" content="en">
    <meta data-rh="true" name="docusaurus_version" content="current">
    <meta data-rh="true" name="docusaurus_tag" content="docs-default-current">
    <meta data-rh="true" name="docsearch:version" content="current">
    <meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current">
    <meta data-rh="true" property="og:title" content="Setting up a PiVPN Server on AWS | Harp Documentation">
    <meta data-rh="true" name="description" content="Introduction:">
    <meta data-rh="true" property="og:description" content="Introduction:">
    <link data-rh="true" rel="icon" href="../../img/favicon.ico">
    <link data-rh="true" rel="canonical" href="intro">
    <link data-rh="true" rel="alternate" href="intro" hreflang="en">
    <link data-rh="true" rel="alternate" href="intro" hreflang="x-default">
    <link rel="alternate" type="application/rss+xml" href="../../blog/rss.xml" title="Harp Documentation RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="../../blog/atom.xml" title="Harp Documentation Atom Feed">
    <link rel="stylesheet" href="../../assets/css/styles.3768ca93.css">
    <script src="../../assets/js/runtime_main.8a1fa19d.js" defer="defer"></script>
    <script src="../../assets/js/main.df785b98.js" defer="defer"></script>
</head>

<body class="navigation-with-keyboard">
    <script>!function () { function t(t) { document.documentElement.setAttribute("data-theme", t) } var e = function () { try { return new URLSearchParams(window.location.search).get("docusaurus-theme") } catch (t) { } }() || function () { try { return localStorage.getItem("theme") } catch (t) { } }(); t(null !== e ? e : "light") }(), function () { try { const c = new URLSearchParams(window.location.search).entries(); for (var [t, e] of c) if (t.startsWith("docusaurus-data-")) { var a = t.replace("docusaurus-data-", "data-"); document.documentElement.setAttribute(a, e) } } catch (t) { } }()</script>
    <div id="__docusaurus">
        <div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn"
                href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div>
        <nav aria-label="Main" class="navbar navbar--fixed-top">
            <div class="navbar__inner">
                <div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false"
                        class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30"
                            aria-hidden="true">
                            <path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"
                                d="M4 7h22M4 15h22M4 23h22"></path>
                        </svg></button><a class="navbar__brand" href="../../index.html">
                        <div class="navbar__logo"><img src="../../img/login-page-logo.png" alt="harp-logo"
                                class="themedComponent_mlkZ themedComponent--light_NVdE" width="130px"><img
                                src="../../img/login-page-logo.png" alt="harp-logo"
                                class="themedComponent_mlkZ themedComponent--dark_xIcU" width="130px"></div><b
                            class="navbar__title text--truncate"></b>
                    </a><a class="navbar__item navbar__link" href="../hardware/step1-install-os.html">Hardware</a><a
                        class="navbar__item navbar__link" href="../software/intro.html">Software</a><a aria-current="page"
                        class="navbar__item navbar__link navbar__link--active" href="intro.html">Deployment</a></div>
                <div class="navbar__items navbar__items--right">
                    <div class="toggle_vylO colorModeToggle_DEke"></div>
                    <div class="navbarSearchContainer_Bca1"></div>
                </div>
            </div>
            <div role="presentation" class="navbar-sidebar__backdrop"></div>
        </nav>
        <div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0">
            <div class="docsWrapper_hBAB"><button aria-label="Scroll back to top"
                    class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button>
                <div class="docRoot_UBD9">
                    <aside class="theme-doc-sidebar-container docSidebarContainer_YfHR">
                        <div class="sidebarViewport_aRkj">
                            <div class="sidebar_njMd">
                                <nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG">
                                    <ul class="theme-doc-sidebar-menu menu__list">
                                        <li
                                            class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item">
                                            <div class="menu__list-item-collapsible"><a
                                                    class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active"
                                                    aria-expanded="true" href="intro.html">Deployment</a></div>
                                            <ul style="display:block;overflow:visible;height:auto" class="menu__list">
                                                <li
                                                    class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item">
                                                    <a class="menu__link menu__link--active" aria-current="page"
                                                        tabindex="0" href="intro.html">Setting up a PiVPN Server on AWS</a>
                                                </li>
                                                <li
                                                    class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item">
                                                    <a class="menu__link" tabindex="0" href="step1.html">Step 1: Setting Up
                                                        AWS Instance</a></li>
                                                <li
                                                    class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item">
                                                    <a class="menu__link" tabindex="0" href="step2.html">Step 2: Installing
                                                        PiVPN</a></li>
                                                <li
                                                    class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item">
                                                    <a class="menu__link" tabindex="0" href="step3.html">Step 3: Configuring
                                                        OpenVPN</a></li>
                                                <li
                                                    class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item">
                                                    <a class="menu__link" tabindex="0" href="step4.html">Step 4: Adding Users
                                                        (Clients)</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </aside>
                    <main class="docMainContainer_TBSr">
                        <div class="container padding-top--md padding-bottom--lg">
                            <div class="row">
                                <div class="col docItemCol_VOVn">
                                    <div class="docItemContainer_Djhp">
                                        <article>
                                            <nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl"
                                                aria-label="Breadcrumbs">
                                                <ul class="breadcrumbs" itemscope=""
                                                    itemtype="https://schema.org/BreadcrumbList">
                                                    <li class="breadcrumbs__item"><a aria-label="Home page"
                                                            class="breadcrumbs__link" href="../../index.html"><svg
                                                                viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT">
                                                                <path
                                                                    d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"
                                                                    fill="currentColor"></path>
                                                            </svg></a></li>
                                                    <li class="breadcrumbs__item"><span
                                                            class="breadcrumbs__link">Deployment</span>
                                                        <meta itemprop="position" content="1">
                                                    </li>
                                                    <li itemscope="" itemprop="itemListElement"
                                                        itemtype="https://schema.org/ListItem"
                                                        class="breadcrumbs__item breadcrumbs__item--active"><span
                                                            class="breadcrumbs__link" itemprop="name">Setting up a PiVPN
                                                            Server on AWS</span>
                                                        <meta itemprop="position" content="2">
                                                    </li>
                                                </ul>
                                            </nav>
                                            <div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button
                                                    type="button" class="clean-btn tocCollapsibleButton_TO0P">On this
                                                    page</button></div>
                                            <div class="theme-doc-markdown markdown">
                                                <h1>Setting up a PiVPN Server on AWS</h1>
                                                <h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">
                                                    Introduction:<a href="#introduction" class="hash-link"
                                                        aria-label="Direct link to Introduction:"
                                                        title="Direct link to Introduction:">​</a></h2>
                                                <p>PiVPN is a versatile and user-friendly tool for creating a Virtual
                                                    Private Network (VPN) server, primarily designed for Raspberry Pi
                                                    devices but applicable to various platforms. In this technical
                                                    documentation, we&#x27;ll outline the process of deploying a PiVPN
                                                    server on Amazon Web Services (AWS). The objective is to establish a
                                                    secure network connection between hardware devices (running on
                                                    Linux) and Windows machines, particularly facilitating access to
                                                    Programmable Logic Controllers (PLCs) managed via the TIA Portal
                                                    software.</p>
                                                <h2 class="anchor anchorWithStickyNavbar_LWe7" id="objective">
                                                    Objective:<a href="#objective" class="hash-link"
                                                        aria-label="Direct link to Objective:"
                                                        title="Direct link to Objective:">​</a></h2>
                                                <p>The primary goal is to enable secure communication and access between
                                                    Linux-based hardware devices and Windows machines via a VPN setup.
                                                    Specifically, we aim to allow TIA Portal users to connect to PLCs
                                                    over a secure network established by the PiVPN server deployed on
                                                    AWS.</p>
                                                <h2 class="anchor anchorWithStickyNavbar_LWe7" id="components">
                                                    Components:<a href="#components" class="hash-link"
                                                        aria-label="Direct link to Components:"
                                                        title="Direct link to Components:">​</a></h2>
                                                <ol>
                                                    <li>AWS Infrastructure: Utilize AWS services to host and deploy the
                                                        PiVPN server. This includes configuring networking, security
                                                        groups, and EC2 instances.</li>
                                                    <li>PiVPN Server: Deploy PiVPN on an EC2 instance within AWS. PiVPN
                                                        simplifies the process of setting up OpenVPN, providing a
                                                        straightforward interface for managing VPN connections.</li>
                                                    <li>Linux-Based Hardware Devices: These devices serve as endpoints
                                                        within the VPN network. They host the PLCs and require secure
                                                        access from remote Windows machines.</li>
                                                    <li>Windows Machines: Users access the Linux-based hardware devices,
                                                        particularly utilizing TIA Portal for managing PLCs. Through the
                                                        VPN connection, they establish secure communication channels
                                                        with the devices.</li>
                                                </ol>
                                                <h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflow">Workflow:<a
                                                        href="#workflow" class="hash-link"
                                                        aria-label="Direct link to Workflow:"
                                                        title="Direct link to Workflow:">​</a></h2>
                                                <ol>
                                                    <li><strong>AWS Setup:</strong></li>
                                                </ol>
                                                <ul>
                                                    <li>Create a Virtual Private Cloud (VPC) to host the VPN
                                                        infrastructure.</li>
                                                    <li>Configure subnets for public and private access.</li>
                                                    <li>Set up security groups to control inbound and outbound traffic.
                                                    </li>
                                                    <li>Launch an EC2 instance to serve as the PiVPN server within the
                                                        VPC.</li>
                                                </ul>
                                                <ol start="2">
                                                    <li><strong>PiVPN Deployment:</strong></li>
                                                </ol>
                                                <ul>
                                                    <li>Connect to the deployed EC2 instance.</li>
                                                    <li>Install and configure PiVPN on the server.</li>
                                                    <li>Generate client profiles for connecting devices and machines.
                                                    </li>
                                                    <li>Configure network settings and encryption parameters for
                                                        enhanced security.</li>
                                                </ul>
                                                <ol start="3">
                                                    <li><strong>Client Configuration:</strong></li>
                                                </ol>
                                                <ul>
                                                    <li>Distribute client profiles to Windows machines accessing the
                                                        VPN.</li>
                                                    <li>Install OpenVPN client software on Windows machines.</li>
                                                    <li>Import the client profiles into the OpenVPN client for
                                                        establishing connections.</li>
                                                </ul>
                                                <ol start="4">
                                                    <li><strong>Network Integration:</strong></li>
                                                </ol>
                                                <ul>
                                                    <li>Configure the Linux-based hardware devices to connect to the
                                                        PiVPN server.</li>
                                                    <li>Ensure proper routing and firewall rules to allow communication
                                                        between devices and the VPN server.</li>
                                                    <li>Verify connectivity and access to the devices from Windows
                                                        machines running TIA Portal.</li>
                                                </ul>
                                            </div>
                                        </article>
                                        <nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a
                                                class="pagination-nav__link pagination-nav__link--next" href="step1.html">
                                                <div class="pagination-nav__sublabel">Next</div>
                                                <div class="pagination-nav__label">Step 1: Setting Up AWS Instance</div>
                                            </a></nav>
                                    </div>
                                </div>
                                <div class="col col--3">
                                    <div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop">
                                        <ul class="table-of-contents table-of-contents__left-border">
                                            <li><a href="#introduction"
                                                    class="table-of-contents__link toc-highlight">Introduction:</a></li>
                                            <li><a href="#objective"
                                                    class="table-of-contents__link toc-highlight">Objective:</a></li>
                                            <li><a href="#components"
                                                    class="table-of-contents__link toc-highlight">Components:</a></li>
                                            <li><a href="#workflow"
                                                    class="table-of-contents__link toc-highlight">Workflow:</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
        </div>
        <footer class="footer footer--dark">
            <div class="container container-fluid">
                <div class="footer__bottom text--center">
                    <div class="footer__copyright">Copyright © 2024 Harp Renewables. Developed by Olive IoT</div>
                </div>
            </div>
        </footer>
    </div>
</body>

<!-- Mirrored from harp-docs.vercel.app/docs/deployment/intro by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 09 Mar 2024 21:35:57 GMT -->

</html>